<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Saral Sahayata - Admin Panel</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Hind:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <style>
        :root {
            --primary-color: #1a237e;
            --primary-dark: #0d1b6b;
            --primary-light: #283593;
            --secondary-color: #d32f2f;
            --accent-color: #ff6f00;
            --background-color: #f5f7fa;
            --sidebar-bg: #1e293b;
            --card-background: #ffffff;
            --text-color: #202124;
            --light-text-color: #5f6368;
            --border-color: #dadce0;
            --danger-color: #ea4335;
            --success-color: #34a853;
            --warning-color: #f9ab00;
            --info-color: #4285f4;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
            --border-radius: 12px;
        }
        
        * {
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Hind', 'Poppins', sans-serif;
            margin: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
            line-height: 1.6;
        }
        
        /* Login Screen */
        .login-screen {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            padding: 20px;
        }
        
        .login-container {
            background: white;
            border-radius: 16px;
            padding: 40px;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            text-align: center;
        }
        
        .login-logo {
            width: 80px;
            height: 80px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            color: white;
            font-size: 32px;
            font-weight: 700;
        }
        
        .login-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .login-subtitle {
            font-size: 14px;
            color: var(--light-text-color);
            margin-bottom: 30px;
        }
        
        .login-form {
            text-align: left;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-group input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
            font-family: 'Hind', sans-serif;
        }
        
        .form-group input:focus {
            border-color: var(--primary-color);
            outline: none;
        }
        
        .login-btn {
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            transition: background 0.3s;
            margin-top: 10px;
        }
        
        .login-btn:hover {
            background: var(--primary-dark);
        }
        
        .error-message {
            color: var(--danger-color);
            font-size: 14px;
            margin-top: 10px;
            display: none;
        }
        
        .error-message.show {
            display: block;
        }
        
        /* Admin Panel Layout */
        .admin-panel {
            display: none;
            flex-direction: column;
            min-height: 100vh;
        }
        
        /* Header */
        .admin-header {
            background: white;
            padding: 15px 25px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .admin-logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-logo-icon {
            width: 35px;
            height: 35px;
            background: var(--primary-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 16px;
        }
        
        .admin-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--primary-color);
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .admin-user {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .user-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--primary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }
        
        .logout-btn {
            background: none;
            border: none;
            color: var(--danger-color);
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            padding: 8px 12px;
            border-radius: 6px;
            transition: background 0.3s;
        }
        
        .logout-btn:hover {
            background: rgba(234, 67, 53, 0.1);
        }
        
        /* Menu Button */
        .menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 20px;
            color: var(--primary-color);
            cursor: pointer;
            padding: 8px;
            border-radius: 6px;
            transition: background 0.3s;
        }
        
        .menu-toggle:hover {
            background: rgba(26, 35, 126, 0.1);
        }
        
        /* Main Layout */
        .admin-main {
            display: flex;
            flex: 1;
        }
        
        /* Sidebar */
        .admin-sidebar {
            width: 250px;
            background: var(--sidebar-bg);
            color: white;
            padding: 20px 0;
            transition: all 0.3s;
        }
        
        .sidebar-menu {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .menu-item {
            margin-bottom: 5px;
        }
        
        .menu-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 20px;
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        
        .menu-link:hover, .menu-link.active {
            background: rgba(255,255,255,0.1);
            color: white;
            border-left-color: var(--accent-color);
        }
        
        .menu-link i {
            width: 20px;
            text-align: center;
        }
        
        /* Content Area */
        .admin-content {
            flex: 1;
            padding: 25px;
            overflow-y: auto;
        }
        
        /* Content Pages */
        .content-page {
            display: none;
        }
        
        .content-page.active {
            display: block;
        }
        
        .content-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
        }
        
        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            margin: 0;
        }
        
        .content-actions {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
        }
        
        .btn-success {
            background: var(--success-color);
            color: white;
        }
        
        .btn-success:hover {
            background: #2e8b47;
        }
        
        .btn-danger {
            background: var(--danger-color);
            color: white;
        }
        
        .btn-danger:hover {
            background: #d33426;
        }
        
        .btn-warning {
            background: var(--warning-color);
            color: white;
        }
        
        .btn-warning:hover {
            background: #e09a00;
        }
        
        /* Refresh Button Animation */
        .refresh-animation {
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Dashboard Cards */
        .dashboard-cards {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--shadow);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stat-icon {
            width: 60px;
            height: 60px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
        }
        
        .stat-icon.users {
            background: var(--info-color);
        }
        
        .stat-icon.active {
            background: var(--success-color);
        }
        
        .stat-icon.ads {
            background: var(--warning-color);
        }
        
        .stat-info {
            flex: 1;
        }
        
        .stat-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .stat-label {
            font-size: 14px;
            color: var(--light-text-color);
        }
        
        /* Tables */
        .content-card {
            background: white;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .card-header {
            padding: 20px 25px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
            margin: 0;
        }
        
        .card-body {
            padding: 25px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .data-table th {
            background: #f8f9fa;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
            color: var(--text-color);
            border-bottom: 1px solid var(--border-color);
        }
        
        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .data-table tr:last-child td {
            border-bottom: none;
        }
        
        .data-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-active {
            background: rgba(52, 168, 83, 0.1);
            color: var(--success-color);
        }
        
        .status-inactive {
            background: rgba(234, 67, 53, 0.1);
            color: var(--danger-color);
        }
        
        .status-banned {
            background: rgba(108, 117, 125, 0.1);
            color: #6c757d;
        }
        
        .action-buttons {
            display: flex;
            gap: 8px;
        }
        
        .action-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            padding: 5px;
            border-radius: 4px;
            transition: background 0.3s;
        }
        
        .edit-btn {
            color: var(--info-color);
        }
        
        .edit-btn:hover {
            background: rgba(66, 133, 244, 0.1);
        }
        
        .delete-btn {
            color: var(--danger-color);
        }
        
        .delete-btn:hover {
            background: rgba(234, 67, 53, 0.1);
        }
        
        .block-btn {
            color: var(--warning-color);
        }
        
        .block-btn:hover {
            background: rgba(249, 171, 0, 0.1);
        }
        
        /* Forms */
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-full {
            grid-column: 1 / -1;
        }
        
        .form-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 25px;
        }
        
        /* Analytics */
        .analytics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .analytics-card {
            background: white;
            border-radius: var(--border-radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }
        
        .analytics-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--primary-color);
        }
        
        .analytics-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }
        
        .analytics-label {
            font-size: 14px;
            color: var(--light-text-color);
        }
        
        /* Loading Spinner */
        .loading-spinner {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 15px;
        }
        
        .loading-spinner.active {
            display: flex;
        }
        
        .loading-spinner i {
            font-size: 40px;
            color: var(--primary-color);
        }
        
        .loading-spinner span {
            font-size: 16px;
            font-weight: 500;
            color: var(--primary-color);
        }
        
        /* Search and Filters */
        .search-filter-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search-box {
            flex: 1;
            min-width: 250px;
            position: relative;
        }
        
        .search-box input {
            width: 100%;
            padding: 10px 15px 10px 40px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
        }
        
        .search-box i {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--light-text-color);
        }
        
        .filter-select {
            padding: 10px 15px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-size: 14px;
            background: white;
            min-width: 150px;
        }
        
        /* Toast Notification */
        #toast-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #000000;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10000;
            font-size: 14px;
            font-weight: 500;
            max-width: 90%;
        }
        
        #toast-notification.show {
            opacity: 1;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 25px;
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            position: relative;
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border-color);
        }
        
        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-color);
            margin: 0;
        }
        
        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            color: var(--light-text-color);
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.3s;
        }
        
        .close-modal:hover {
            background: #f1f3f4;
        }
        
        /* Mobile Responsive */
        @media (max-width: 768px) {
            .dashboard-cards {
                grid-template-columns: 1fr;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .content-actions {
                flex-direction: column;
            }
            
            .action-buttons {
                flex-wrap: wrap;
            }
            
            .admin-user span {
                display: none;
            }
            
            /* Menu Toggle */
            .menu-toggle {
                display: block;
            }
            
            /* Sidebar */
            .admin-sidebar {
                position: fixed;
                top: 0;
                left: -250px;
                height: 100%;
                z-index: 99;
                transition: left 0.3s ease;
            }
            
            .admin-sidebar.active {
                left: 0;
            }
            
            .admin-content {
                width: 100%;
            }
            
            .overlay {
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 98;
            }
            
            .overlay.active {
                display: block;
            }
        }
        
        @media (max-width: 576px) {
            .admin-header {
                padding: 15px;
            }
            
            .admin-content {
                padding: 15px;
            }
            
            .content-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }
            
            .content-actions {
                width: 100%;
            }
            
            .btn {
                flex: 1;
                justify-content: center;
            }
            
            .data-table {
                display: block;
                overflow-x: auto;
            }
            
            .login-container {
                padding: 30px 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Spinner -->
    <div class="loading-spinner" id="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <span>Loading...</span>
    </div>
    
    <!-- Login Screen -->
    <div class="login-screen" id="login-screen">
        <div class="login-container">
            <div class="login-logo">
                <i class="fas fa-lock"></i>
            </div>
            <h1 class="login-title">Admin Panel</h1>
            <p class="login-subtitle">Saral Sahayata - सरकारी सेवाओं का एक मंच</p>
            
            <form class="login-form" id="login-form">
                <div class="form-group">
                    <label for="admin-password">Admin Password</label>
                    <input type="password" id="admin-password" placeholder="Enter admin password" required>
                </div>
                
                <button type="submit" class="login-btn">Login</button>
                
                <div class="error-message" id="login-error">Invalid password. Please try again.</div>
            </form>
        </div>
    </div>
    
    <!-- Admin Panel -->
    <div class="admin-panel" id="admin-panel">
        <!-- Header -->
        <header class="admin-header">
            <div class="header-left">
                <button class="menu-toggle" id="menu-toggle">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="admin-logo">
                    <div class="admin-logo-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <div class="admin-title">Saral Sahayata Admin</div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="admin-user">
                    <div class="user-avatar">A</div>
                    <span>Admin</span>
                </div>
                <button class="logout-btn" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </button>
            </div>
        </header>
        
        <!-- Overlay for mobile sidebar -->
        <div class="overlay" id="overlay"></div>
        
        <!-- Main Content -->
        <div class="admin-main">
            <!-- Sidebar -->
            <nav class="admin-sidebar" id="admin-sidebar">
                <ul class="sidebar-menu">
                    <li class="menu-item">
                        <a href="#" class="menu-link active" data-page="dashboard">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="users">
                            <i class="fas fa-users"></i>
                            <span>User Management</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="links">
                            <i class="fas fa-link"></i>
                            <span>Bioside Links</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="ads">
                            <i class="fas fa-ad"></i>
                            <span>Ad Management</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="content">
                            <i class="fas fa-file-alt"></i>
                            <span>Content Management</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="feedback">
                            <i class="fas fa-comments"></i>
                            <span>User Feedback</span>
                        </a>
                    </li>
                    <li class="menu-item">
                        <a href="#" class="menu-link" data-page="analytics">
                            <i class="fas fa-chart-bar"></i>
                            <span>Ad Analytics</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <!-- Content Area -->
            <div class="admin-content" id="admin-content">
                <!-- Dashboard Page -->
                <div class="content-page active" id="dashboard-page">
                    <div class="content-header">
                        <h1 class="page-title">Dashboard</h1>
                        <div class="content-actions">
                            <button class="btn btn-primary" id="refresh-data">
                                <i class="fas fa-sync-alt" id="refresh-icon"></i>
                                <span>Refresh Data</span>
                            </button>
                            <button class="btn btn-success" id="export-data">
                                <i class="fas fa-download"></i>
                                <span>Export Data</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-cards">
                        <div class="stat-card">
                            <div class="stat-icon users">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="total-users">0</div>
                                <div class="stat-label">Total Users</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon active">
                                <i class="fas fa-user-check"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="active-users">0</div>
                                <div class="stat-label">Active Users</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon ads">
                                <i class="fas fa-ad"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="total-ads">0</div>
                                <div class="stat-label">Total Ads</div>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-icon" style="background: var(--accent-color);">
                                <i class="fas fa-link"></i>
                            </div>
                            <div class="stat-info">
                                <div class="stat-value" id="total-links">0</div>
                                <div class="stat-label">Total Links</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">Recent Activity</h2>
                        </div>
                        <div class="card-body">
                            <div class="activity-list" id="activity-list">
                                <p>No recent activity</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- User Management Page -->
                <div class="content-page" id="users-page">
                    <div class="content-header">
                        <h1 class="page-title">User Management</h1>
                        <div class="content-actions">
                            <button class="btn btn-primary" id="add-user-btn">
                                <i class="fas fa-plus"></i>
                                <span>Add User</span>
                            </button>
                            <button class="btn btn-success" id="export-users">
                                <i class="fas fa-download"></i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-filter-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="user-search" placeholder="Search users...">
                        </div>
                        <select class="filter-select" id="user-status-filter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="banned">Banned</option>
                        </select>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">All Users</h2>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="users-table-body">
                                    <!-- Users will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Bioside Links Page -->
                <div class="content-page" id="links-page">
                    <div class="content-header">
                        <h1 class="page-title">Bioside Links Management</h1>
                        <div class="content-actions">
                            <button class="btn btn-primary" id="add-link-btn">
                                <i class="fas fa-plus"></i>
                                <span>Add Link</span>
                            </button>
                            <button class="btn btn-success" id="export-links">
                                <i class="fas fa-download"></i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-filter-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="link-search" placeholder="Search links...">
                        </div>
                        <select class="filter-select" id="link-category-filter">
                            <option value="">All Categories</option>
                            <option value="job">नौकरी और करियर</option>
                            <option value="student">छात्र और शिक्षा</option>
                            <option value="utility">सरकारी योजनाएं</option>
                            <option value="health">स्वास्थ्य सेवाएं</option>
                            <option value="finance">वित्त और बैंकिंग</option>
                            <option value="agriculture">कृषि सेवाएं</option>
                            <option value="travel">यात्रा और परिवहन</option>
                            <option value="legal">कानूनी सेवाएं</option>
                        </select>
                        <select class="filter-select" id="link-status-filter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">All Links</h2>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Description</th>
                                        <th>URL</th>
                                        <th>Logo URL</th>
                                        <th>Category</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="links-table-body">
                                    <!-- Links will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Ad Management Page -->
                <div class="content-page" id="ads-page">
                    <div class="content-header">
                        <h1 class="page-title">Ad Management</h1>
                        <div class="content-actions">
                            <button class="btn btn-primary" id="add-ad-btn">
                                <i class="fas fa-plus"></i>
                                <span>Add Ad</span>
                            </button>
                            <button class="btn btn-success" id="export-ads">
                                <i class="fas fa-download"></i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-filter-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="ad-search" placeholder="Search ads...">
                        </div>
                        <select class="filter-select" id="ad-placement-filter">
                            <option value="">All Placements</option>
                            <option value="header">Header</option>
                            <option value="between">Between Links</option>
                            <option value="footer">Footer</option>
                        </select>
                        <select class="filter-select" id="ad-status-filter">
                            <option value="">All Status</option>
                            <option value="active">Active</option>
                            <option value="inactive">Inactive</option>
                        </select>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">All Ads</h2>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Title</th>
                                        <th>Ad Code</th>
                                        <th>Placement</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="ads-table-body">
                                    <!-- Ads will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Content Management Page -->
                <div class="content-page" id="content-page">
                    <div class="content-header">
                        <h1 class="page-title">Content Management</h1>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">Privacy Policy</h2>
                        </div>
                        <div class="card-body">
                            <form id="privacy-policy-form">
                                <div class="form-group">
                                    <textarea id="privacy-policy-content" rows="15" style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; font-family: 'Hind', sans-serif;"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Update Privacy Policy</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">Terms & Conditions</h2>
                        </div>
                        <div class="card-body">
                            <form id="terms-form">
                                <div class="form-group">
                                    <textarea id="terms-content" rows="15" style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; font-family: 'Hind', sans-serif;"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Update Terms & Conditions</button>
                                </div>
                            </form>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">About Section</h2>
                        </div>
                        <div class="card-body">
                            <form id="about-form">
                                <div class="form-group">
                                    <textarea id="about-content" rows="15" style="width: 100%; padding: 15px; border: 1px solid var(--border-color); border-radius: 8px; font-family: 'Hind', sans-serif;"></textarea>
                                </div>
                                <div class="form-actions">
                                    <button type="submit" class="btn btn-primary">Update About Section</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
                
                <!-- User Feedback Page -->
                <div class="content-page" id="feedback-page">
                    <div class="content-header">
                        <h1 class="page-title">User Feedback & Complaints</h1>
                        <div class="content-actions">
                            <button class="btn btn-success" id="export-feedback">
                                <i class="fas fa-download"></i>
                                <span>Export</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="search-filter-container">
                        <div class="search-box">
                            <i class="fas fa-search"></i>
                            <input type="text" id="feedback-search" placeholder="Search feedback...">
                        </div>
                        <select class="filter-select" id="feedback-type-filter">
                            <option value="">All Types</option>
                            <option value="feedback">Feedback</option>
                            <option value="complaint">Complaint</option>
                            <option value="suggestion">Suggestion</option>
                        </select>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">All Feedback</h2>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Type</th>
                                        <th>Subject</th>
                                        <th>Date</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="feedback-table-body">
                                    <!-- Feedback will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Ad Analytics Page -->
                <div class="content-page" id="analytics-page">
                    <div class="content-header">
                        <h1 class="page-title">Ad Analytics</h1>
                        <div class="content-actions">
                            <button class="btn btn-success" id="export-analytics">
                                <i class="fas fa-download"></i>
                                <span>Export Report</span>
                            </button>
                        </div>
                    </div>
                    
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <h3 class="analytics-title">Total Ad Views</h3>
                            <div class="analytics-value" id="total-views">0</div>
                            <div class="analytics-label">All Time</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3 class="analytics-title">Total Revenue</h3>
                            <div class="analytics-value" id="total-revenue">₹0</div>
                            <div class="analytics-label">Estimated</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3 class="analytics-title">Average CTR</h3>
                            <div class="analytics-value" id="avg-ctr">0%</div>
                            <div class="analytics-label">Click Through Rate</div>
                        </div>
                        
                        <div class="analytics-card">
                            <h3 class="analytics-title">Active Campaigns</h3>
                            <div class="analytics-value" id="active-campaigns">0</div>
                            <div class="analytics-label">Currently Running</div>
                        </div>
                    </div>
                    
                    <div class="content-card">
                        <div class="card-header">
                            <h2 class="card-title">Ad Performance</h2>
                        </div>
                        <div class="card-body">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Ad Title</th>
                                        <th>Views</th>
                                        <th>Clicks</th>
                                        <th>CTR</th>
                                        <th>Revenue</th>
                                    </tr>
                                </thead>
                                <tbody id="analytics-table-body">
                                    <!-- Analytics will be loaded here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Add User Modal -->
    <div class="modal" id="add-user-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New User</h2>
                <button class="close-modal" id="close-user-modal">&times;</button>
            </div>
            <form id="add-user-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-name">Full Name</label>
                        <input type="text" id="user-name" required>
                    </div>
                    <div class="form-group">
                        <label for="user-email">Email</label>
                        <input type="email" id="user-email" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="user-phone">Phone</label>
                        <input type="tel" id="user-phone" maxlength="10">
                    </div>
                    <div class="form-group">
                        <label for="user-password">Password</label>
                        <input type="password" id="user-password" required>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn" id="cancel-user-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add User</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Add Link Modal -->
    <div class="modal" id="add-link-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New Link</h2>
                <button class="close-modal" id="close-link-modal">&times;</button>
            </div>
            <form id="add-link-form">
                <div class="form-group">
                    <label for="link-title">Title</label>
                    <input type="text" id="link-title" required>
                </div>
                <div class="form-group">
                    <label for="link-description">Description</label>
                    <textarea id="link-description" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="link-url">URL</label>
                    <input type="url" id="link-url" required>
                </div>
                <div class="form-group">
                    <label for="link-logo-url">Logo URL (Optional)</label>
                    <input type="url" id="link-logo-url" placeholder="https://example.com/logo.png">
                </div>
                <div class="form-group">
                    <label for="link-category">Category</label>
                    <select id="link-category" required>
                        <option value="">Select Category</option>
                        <option value="job">नौकरी और करियर</option>
                        <option value="student">छात्र और शिक्षा</option>
                        <option value="utility">सरकारी योजनाएं</option>
                        <option value="health">स्वास्थ्य सेवाएं</option>
                        <option value="finance">वित्त और बैंकिंग</option>
                        <option value="agriculture">कृषि सेवाएं</option>
                        <option value="travel">यात्रा और परिवहन</option>
                        <option value="legal">कानूनी सेवाएं</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn" id="cancel-link-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Link</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Edit Link Modal -->
    <div class="modal" id="edit-link-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Edit Link</h2>
                <button class="close-modal" id="close-edit-link-modal">&times;</button>
            </div>
            <form id="edit-link-form">
                <input type="hidden" id="edit-link-id">
                <div class="form-group">
                    <label for="edit-link-title">Title</label>
                    <input type="text" id="edit-link-title" required>
                </div>
                <div class="form-group">
                    <label for="edit-link-description">Description</label>
                    <textarea id="edit-link-description" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="edit-link-url">URL</label>
                    <input type="url" id="edit-link-url" required>
                </div>
                <div class="form-group">
                    <label for="edit-link-logo-url">Logo URL (Optional)</label>
                    <input type="url" id="edit-link-logo-url" placeholder="https://example.com/logo.png">
                </div>
                <div class="form-group">
                    <label for="edit-link-category">Category</label>
                    <select id="edit-link-category" required>
                        <option value="">Select Category</option>
                        <option value="job">नौकरी और करियर</option>
                        <option value="student">छात्र और शिक्षा</option>
                        <option value="utility">सरकारी योजनाएं</option>
                        <option value="health">स्वास्थ्य सेवाएं</option>
                        <option value="finance">वित्त और बैंकिंग</option>
                        <option value="agriculture">कृषि सेवाएं</option>
                        <option value="travel">यात्रा और परिवहन</option>
                        <option value="legal">कानूनी सेवाएं</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-link-status">Status</label>
                    <select id="edit-link-status" required>
                        <option value="active">Active</option>
                        <option value="inactive">Inactive</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn" id="cancel-edit-link-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Update Link</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Add Ad Modal -->
    <div class="modal" id="add-ad-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Add New Ad</h2>
                <button class="close-modal" id="close-ad-modal">&times;</button>
            </div>
            <form id="add-ad-form">
                <div class="form-group">
                    <label for="ad-title">Ad Title</label>
                    <input type="text" id="ad-title" required>
                </div>
                <div class="form-group">
                    <label for="ad-code">Ad Code</label>
                    <textarea id="ad-code" rows="5" required placeholder="Paste your Adsterra code here"></textarea>
                </div>
                <div class="form-group">
                    <label for="ad-placement">Placement</label>
                    <select id="ad-placement" required>
                        <option value="">Select Placement</option>
                        <option value="header">Header</option>
                        <option value="between">Between Links</option>
                        <option value="footer">Footer</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="button" class="btn" id="cancel-ad-btn">Cancel</button>
                    <button type="submit" class="btn btn-primary">Add Ad</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Toast Notification -->
    <div id="toast-notification" role="alert">
        <i id="toast-icon"></i>
        <span id="toast-text"></span>
    </div>
    
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyDjYYketRe_mLhPefzG1-gbcV4kxOFxJ4s",
            authDomain: "saral-sahayata.firebaseapp.com",
            databaseURL: "https://saral-sahayata-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "saral-sahayata",
            storageBucket: "saral-sahayata.appspot.com",
            messagingSenderId: "2040973139",
            appId: "1:2040973139:web:d2f0c7c5ee2fddf89583a6"
        };
        
        // Initialize Firebase
        let database;
        try {
            firebase.initializeApp(firebaseConfig);
            database = firebase.database();
        } catch (error) {
            console.error('Firebase initialization error:', error);
        }
        
        // Database References
        const usersRef = database ? database.ref('users') : null;
        const linksRef = database ? database.ref('links') : null;
        const adsRef = database ? database.ref('ads') : null;
        const feedbackRef = database ? database.ref('feedback') : null;
        const contentRef = database ? database.ref('content') : null;
        const analyticsRef = database ? database.ref('analytics') : null;
        
        // DOM Elements
        const loginScreen = document.getElementById('login-screen');
        const adminPanel = document.getElementById('admin-panel');
        const loginForm = document.getElementById('login-form');
        const adminPassword = document.getElementById('admin-password');
        const loginError = document.getElementById('login-error');
        const logoutBtn = document.getElementById('logout-btn');
        const adminSidebar = document.getElementById('admin-sidebar');
        const adminContent = document.getElementById('admin-content');
        const refreshBtn = document.getElementById('refresh-data');
        const refreshIcon = document.getElementById('refresh-icon');
        const menuToggle = document.getElementById('menu-toggle');
        const overlay = document.getElementById('overlay');
        const loadingSpinner = document.getElementById('loading-spinner');
        
        // Page Elements
        const menuLinks = document.querySelectorAll('.menu-link');
        const contentPages = document.querySelectorAll('.content-page');
        
        // Modal Elements
        const addUserModal = document.getElementById('add-user-modal');
        const addLinkModal = document.getElementById('add-link-modal');
        const editLinkModal = document.getElementById('edit-link-modal');
        const addAdModal = document.getElementById('add-ad-modal');
        
        // Toast Elements
        const toast = document.getElementById('toast-notification');
        const toastText = document.getElementById('toast-text');
        const toastIcon = document.getElementById('toast-icon');
        
        // Admin Password - FIXED: Simple password for testing
        const ADMIN_PASSWORD = "admin123";
        
        // Data Storage
        let users = [];
        let links = [];
        let ads = [];
        let feedback = [];
        
        // Initialize Admin Panel
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Admin Panel Initialized');
            
            // Check if user is already logged in
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                showAdminPanel();
            } else {
                showLoginScreen();
            }
            
            // Set up event listeners
            setupEventListeners();
            
            // Load initial data if logged in
            if (localStorage.getItem('adminLoggedIn') === 'true') {
                loadInitialData();
            }
        });
        
        // Setup Event Listeners
        function setupEventListeners() {
            // Login Form
            loginForm.addEventListener('submit', handleLogin);
            
            // Logout Button
            logoutBtn.addEventListener('click', handleLogout);
            
            // Menu Toggle
            menuToggle.addEventListener('click', toggleSidebar);
            overlay.addEventListener('click', closeSidebar);
            
            // Menu Links - FIXED: Now properly switches between pages
            menuLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const page = link.getAttribute('data-page');
                    console.log('Switching to page:', page);
                    showPage(page);
                    
                    // Update active menu item
                    menuLinks.forEach(item => item.classList.remove('active'));
                    link.classList.add('active');
                    
                    // Close sidebar on mobile
                    closeSidebar();
                });
            });
            
            // Refresh Data Button with Animation
            refreshBtn.addEventListener('click', () => {
                refreshIcon.classList.add('refresh-animation');
                loadInitialData();
                setTimeout(() => {
                    refreshIcon.classList.remove('refresh-animation');
                }, 1000);
            });
            
            // Export Buttons
            document.getElementById('export-data')?.addEventListener('click', exportDashboardData);
            document.getElementById('export-users')?.addEventListener('click', exportUsersData);
            document.getElementById('export-links')?.addEventListener('click', exportLinksData);
            document.getElementById('export-ads')?.addEventListener('click', exportAdsData);
            document.getElementById('export-feedback')?.addEventListener('click', exportFeedbackData);
            document.getElementById('export-analytics')?.addEventListener('click', exportAnalyticsData);
            
            // Search and Filter Events
            document.getElementById('user-search')?.addEventListener('input', filterUsers);
            document.getElementById('user-status-filter')?.addEventListener('change', filterUsers);
            document.getElementById('link-search')?.addEventListener('input', filterLinks);
            document.getElementById('link-category-filter')?.addEventListener('change', filterLinks);
            document.getElementById('link-status-filter')?.addEventListener('change', filterLinks);
            document.getElementById('ad-search')?.addEventListener('input', filterAds);
            document.getElementById('ad-placement-filter')?.addEventListener('change', filterAds);
            document.getElementById('ad-status-filter')?.addEventListener('change', filterAds);
            document.getElementById('feedback-search')?.addEventListener('input', filterFeedback);
            document.getElementById('feedback-type-filter')?.addEventListener('change', filterFeedback);
            
            // Add User Button
            document.getElementById('add-user-btn')?.addEventListener('click', () => {
                addUserModal.classList.add('active');
            });
            
            // Add Link Button
            document.getElementById('add-link-btn')?.addEventListener('click', () => {
                addLinkModal.classList.add('active');
            });
            
            // Add Ad Button
            document.getElementById('add-ad-btn')?.addEventListener('click', () => {
                addAdModal.classList.add('active');
            });
            
            // Close Modals
            document.getElementById('close-user-modal')?.addEventListener('click', () => {
                addUserModal.classList.remove('active');
            });
            
            document.getElementById('close-link-modal')?.addEventListener('click', () => {
                addLinkModal.classList.remove('active');
            });
            
            document.getElementById('close-edit-link-modal')?.addEventListener('click', () => {
                editLinkModal.classList.remove('active');
            });
            
            document.getElementById('close-ad-modal')?.addEventListener('click', () => {
                addAdModal.classList.remove('active');
            });
            
            document.getElementById('cancel-user-btn')?.addEventListener('click', () => {
                addUserModal.classList.remove('active');
            });
            
            document.getElementById('cancel-link-btn')?.addEventListener('click', () => {
                addLinkModal.classList.remove('active');
            });
            
            document.getElementById('cancel-edit-link-btn')?.addEventListener('click', () => {
                editLinkModal.classList.remove('active');
            });
            
            document.getElementById('cancel-ad-btn')?.addEventListener('click', () => {
                addAdModal.classList.remove('active');
            });
            
            // Form Submissions
            document.getElementById('add-user-form')?.addEventListener('submit', handleAddUser);
            document.getElementById('add-link-form')?.addEventListener('submit', handleAddLink);
            document.getElementById('edit-link-form')?.addEventListener('submit', handleEditLink);
            document.getElementById('add-ad-form')?.addEventListener('submit', handleAddAd);
            document.getElementById('privacy-policy-form')?.addEventListener('submit', handleUpdatePrivacy);
            document.getElementById('terms-form')?.addEventListener('submit', handleUpdateTerms);
            document.getElementById('about-form')?.addEventListener('submit', handleUpdateAbout);
        }
        
        // Toggle Sidebar
        function toggleSidebar() {
            adminSidebar.classList.toggle('active');
            overlay.classList.toggle('active');
        }
        
        // Close Sidebar
        function closeSidebar() {
            adminSidebar.classList.remove('active');
            overlay.classList.remove('active');
        }
        
        // Handle Login - FIXED: Password validation
        function handleLogin(e) {
            e.preventDefault();
            console.log('Login attempt with password:', adminPassword.value);
            
            if (adminPassword.value === ADMIN_PASSWORD) {
                localStorage.setItem('adminLoggedIn', 'true');
                showAdminPanel();
                showToast('Login successful!', 'success');
                loginError.classList.remove('show');
            } else {
                loginError.classList.add('show');
                showToast('Invalid password!', 'error');
            }
        }
        
        // Handle Logout
        function handleLogout() {
            localStorage.removeItem('adminLoggedIn');
            showLoginScreen();
            showToast('Logged out successfully!', 'info');
        }
        
        // Show Login Screen
        function showLoginScreen() {
            loginScreen.style.display = 'flex';
            adminPanel.style.display = 'none';
            loginForm.reset();
            loginError.classList.remove('show');
        }
        
        // Show Admin Panel
        function showAdminPanel() {
            loginScreen.style.display = 'none';
            adminPanel.style.display = 'flex';
            // Show dashboard by default
            showPage('dashboard');
            // Load data
            loadInitialData();
        }
        
        // Show Page - FIXED: Now properly shows the selected page
        function showPage(page) {
            console.log('Showing page:', page);
            
            // Hide all content pages
            contentPages.forEach(p => {
                p.classList.remove('active');
            });
            
            // Show the selected page
            const targetPage = document.getElementById(`${page}-page`);
            if (targetPage) {
                targetPage.classList.add('active');
                console.log('Page displayed successfully');
            } else {
                console.error('Target page not found:', `${page}-page`);
            }
        }
        
        // Show Loading Spinner
        function showLoading() {
            loadingSpinner.classList.add('active');
        }
        
        // Hide Loading Spinner
        function hideLoading() {
            loadingSpinner.classList.remove('active');
        }
        
        // Load Initial Data
        function loadInitialData() {
            if (!database) {
                console.log('Firebase not available, using demo data');
                loadDemoData();
                return;
            }
            
            showLoading();
            
            // Load users
            usersRef.on('value', (snapshot) => {
                users = snapshot.val() || {};
                updateUsersTable();
                updateDashboardStats();
                hideLoading();
            }, (error) => {
                console.error('Error loading users:', error);
                loadDemoData();
                hideLoading();
            });
            
            // Load links
            linksRef.on('value', (snapshot) => {
                links = snapshot.val() || {};
                updateLinksTable();
                updateDashboardStats();
            });
            
            // Load ads
            adsRef.on('value', (snapshot) => {
                ads = snapshot.val() || {};
                updateAdsTable();
                updateDashboardStats();
            });
            
            // Load feedback
            feedbackRef.on('value', (snapshot) => {
                feedback = snapshot.val() || {};
                updateFeedbackTable();
            });
            
            // Load content
            contentRef.on('value', (snapshot) => {
                const content = snapshot.val() || {};
                if (content.privacy) {
                    document.getElementById('privacy-policy-content').value = content.privacy;
                }
                if (content.terms) {
                    document.getElementById('terms-content').value = content.terms;
                }
                if (content.about) {
                    document.getElementById('about-content').value = content.about;
                }
            });
            
            // Load analytics
            analyticsRef.on('value', (snapshot) => {
                const analytics = snapshot.val() || {};
                updateAnalytics(analytics);
            });
        }
        
        // Load Demo Data (if Firebase fails)
        function loadDemoData() {
            console.log('Loading demo data');
            
            // Demo users
            users = {
                'user1': { name: 'John Doe', email: 'john@example.com', phone: '9876543210', status: 'active', createdAt: Date.now() },
                'user2': { name: 'Jane Smith', email: 'jane@example.com', phone: '9876543211', status: 'active', createdAt: Date.now() - 86400000 }
            };
            
            // Demo links
            links = {
                'link1': { title: 'Sarkari Job', description: 'Government job portal', url: 'https://sarkarijob.com', category: 'job', active: true, timestamp: Date.now() },
                'link2': { title: 'Student Scholarship', description: 'Scholarship information', url: 'https://scholarship.gov.in', category: 'student', active: true, timestamp: Date.now() - 86400000 }
            };
            
            // Demo ads
            ads = {
                'ad1': { title: 'Header Ad', code: 'Adsterra Code 1', placement: 'header', active: true, timestamp: Date.now() },
                'ad2': { title: 'Footer Ad', code: 'Adsterra Code 2', placement: 'footer', active: true, timestamp: Date.now() }
            };
            
            // Demo feedback
            feedback = {
                'feedback1': { name: 'Rahul Kumar', email: 'rahul@example.com', type: 'feedback', subject: 'Great platform!', timestamp: Date.now() }
            };
            
            // Update UI with demo data
            updateUsersTable();
            updateLinksTable();
            updateAdsTable();
            updateFeedbackTable();
            updateDashboardStats();
            updateAnalytics({});
            
            showToast('Demo data loaded successfully!', 'info');
        }
        
        // Update Dashboard Stats
        function updateDashboardStats() {
            // Total Users
            document.getElementById('total-users').textContent = Object.keys(users).length;
            
            // Active Users (assuming all are active for demo)
            document.getElementById('active-users').textContent = Object.keys(users).length;
            
            // Total Ads
            document.getElementById('total-ads').textContent = Object.keys(ads).length;
            
            // Total Links
            document.getElementById('total-links').textContent = Object.keys(links).length;
            
            // Update recent activity
            updateRecentActivity();
        }
        
        // Update Recent Activity
        function updateRecentActivity() {
            const activityList = document.getElementById('activity-list');
            const activities = [];
            
            // Add user registrations
            Object.keys(users).forEach(key => {
                const user = users[key];
                if (user.createdAt) {
                    activities.push({
                        type: 'user',
                        message: `New user registered: ${user.name || user.email}`,
                        timestamp: user.createdAt
                    });
                }
            });
            
            // Add link creations
            Object.keys(links).forEach(key => {
                const link = links[key];
                if (link.timestamp) {
                    activities.push({
                        type: 'link',
                        message: `New link added: ${link.title}`,
                        timestamp: link.timestamp
                    });
                }
            });
            
            // Sort by timestamp (newest first)
            activities.sort((a, b) => b.timestamp - a.timestamp);
            
            // Display latest 5 activities
            if (activities.length > 0) {
                activityList.innerHTML = '';
                activities.slice(0, 5).forEach(activity => {
                    const date = new Date(activity.timestamp).toLocaleString();
                    const div = document.createElement('div');
                    div.style.padding = '8px 0';
                    div.style.borderBottom = '1px solid #f0f0f0';
                    div.innerHTML = `
                        <div style="font-weight: 500;">${activity.message}</div>
                        <div style="font-size: 12px; color: var(--light-text-color);">${date}</div>
                    `;
                    activityList.appendChild(div);
                });
            } else {
                activityList.innerHTML = '<p>No recent activity</p>';
            }
        }
        
        // Update Users Table
        function updateUsersTable() {
            const tbody = document.getElementById('users-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            Object.keys(users).forEach(key => {
                const user = users[key];
                const tr = document.createElement('tr');
                
                tr.innerHTML = `
                    <td>${key.substring(0, 8)}</td>
                    <td>${user.name || 'N/A'}</td>
                    <td>${user.email || 'N/A'}</td>
                    <td>${user.phone || 'N/A'}</td>
                    <td><span class="status-badge ${user.status === 'banned' ? 'status-banned' : 'status-active'}">${user.status === 'banned' ? 'Banned' : 'Active'}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" data-id="${key}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn block-btn" data-id="${key}">
                                <i class="fas fa-ban"></i>
                            </button>
                            <button class="action-btn delete-btn" data-id="${key}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                tbody.appendChild(tr);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#users-table-body .action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const userId = btn.getAttribute('data-id');
                    if (btn.classList.contains('delete-btn')) {
                        deleteUser(userId);
                    } else if (btn.classList.contains('edit-btn')) {
                        editUser(userId);
                    } else if (btn.classList.contains('block-btn')) {
                        toggleUserBan(userId);
                    }
                });
            });
        }
        
        // Update Links Table
        function updateLinksTable() {
            const tbody = document.getElementById('links-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            Object.keys(links).forEach(key => {
                const link = links[key];
                const tr = document.createElement('tr');
                
                tr.innerHTML = `
                    <td>${link.title || 'N/A'}</td>
                    <td>${link.description ? link.description.substring(0, 50) + '...' : 'N/A'}</td>
                    <td>${link.url ? link.url.substring(0, 30) + '...' : 'N/A'}</td>
                    <td>${link.logoUrl ? link.logoUrl.substring(0, 30) + '...' : 'N/A'}</td>
                    <td>${link.category || 'N/A'}</td>
                    <td><span class="status-badge ${link.active === false ? 'status-inactive' : 'status-active'}">${link.active === false ? 'Inactive' : 'Active'}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" data-id="${key}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-id="${key}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                tbody.appendChild(tr);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#links-table-body .action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const linkId = btn.getAttribute('data-id');
                    if (btn.classList.contains('delete-btn')) {
                        deleteLink(linkId);
                    } else if (btn.classList.contains('edit-btn')) {
                        editLink(linkId);
                    }
                });
            });
        }
        
        // Update Ads Table
        function updateAdsTable() {
            const tbody = document.getElementById('ads-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            Object.keys(ads).forEach(key => {
                const ad = ads[key];
                const tr = document.createElement('tr');
                
                tr.innerHTML = `
                    <td>${ad.title || 'N/A'}</td>
                    <td>${ad.code ? ad.code.substring(0, 30) + '...' : 'N/A'}</td>
                    <td>${ad.placement || 'N/A'}</td>
                    <td><span class="status-badge ${ad.active === false ? 'status-inactive' : 'status-active'}">${ad.active === false ? 'Inactive' : 'Active'}</span></td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" data-id="${key}">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="action-btn delete-btn" data-id="${key}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                tbody.appendChild(tr);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#ads-table-body .action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const adId = btn.getAttribute('data-id');
                    if (btn.classList.contains('delete-btn')) {
                        deleteAd(adId);
                    } else if (btn.classList.contains('edit-btn')) {
                        // Edit ad functionality would go here
                        showToast('Edit ad functionality coming soon', 'info');
                    }
                });
            });
        }
        
        // Update Feedback Table
        function updateFeedbackTable() {
            const tbody = document.getElementById('feedback-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            Object.keys(feedback).forEach(key => {
                const item = feedback[key];
                const tr = document.createElement('tr');
                const date = new Date(item.timestamp).toLocaleDateString();
                
                tr.innerHTML = `
                    <td>${item.name || 'N/A'}</td>
                    <td>${item.email || 'N/A'}</td>
                    <td>${item.type || 'N/A'}</td>
                    <td>${item.subject ? item.subject.substring(0, 30) + '...' : 'N/A'}</td>
                    <td>${date}</td>
                    <td>
                        <div class="action-buttons">
                            <button class="action-btn edit-btn" data-id="${key}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="action-btn delete-btn" data-id="${key}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                `;
                
                tbody.appendChild(tr);
            });
            
            // Add event listeners to action buttons
            document.querySelectorAll('#feedback-table-body .action-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const feedbackId = btn.getAttribute('data-id');
                    if (btn.classList.contains('delete-btn')) {
                        deleteFeedback(feedbackId);
                    } else if (btn.classList.contains('edit-btn')) {
                        // View feedback functionality would go here
                        showToast('View feedback functionality coming soon', 'info');
                    }
                });
            });
        }
        
        // Update Analytics
        function updateAnalytics(analytics) {
            // Calculate total views
            let totalViews = 0;
            let totalClicks = 0;
            let totalRevenue = 0;
            let activeCampaigns = 0;
            
            if (analytics.views) {
                Object.keys(analytics.views).forEach(key => {
                    const viewCount = Object.keys(analytics.views[key]).length;
                    totalViews += viewCount;
                });
            }
            
            if (analytics.clicks) {
                Object.keys(analytics.clicks).forEach(key => {
                    const clickCount = Object.keys(analytics.clicks[key]).length;
                    totalClicks += clickCount;
                });
            }
            
            // Count active campaigns
            Object.keys(ads).forEach(key => {
                if (ads[key].active !== false) {
                    activeCampaigns++;
                }
            });
            
            // Calculate revenue (estimated)
            totalRevenue = totalViews * 0.5; // ₹0.5 per view
            
            // Update UI
            document.getElementById('total-views').textContent = totalViews.toLocaleString();
            document.getElementById('total-revenue').textContent = `₹${totalRevenue.toLocaleString()}`;
            document.getElementById('active-campaigns').textContent = activeCampaigns;
            
            const ctr = totalViews > 0 ? (totalClicks / totalViews * 100).toFixed(2) : 0;
            document.getElementById('avg-ctr').textContent = `${ctr}%`;
            
            // Update analytics table
            const tbody = document.getElementById('analytics-table-body');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            if (ads) {
                Object.keys(ads).forEach(key => {
                    const ad = ads[key];
                    const views = analytics.views && analytics.views[key] ? Object.keys(analytics.views[key]).length : 0;
                    const clicks = analytics.clicks && analytics.clicks[key] ? Object.keys(analytics.clicks[key]).length : 0;
                    const ctr = views > 0 ? (clicks / views * 100).toFixed(2) : 0;
                    const revenue = views * 0.5;
                    
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td>${ad.title || 'N/A'}</td>
                        <td>${views}</td>
                        <td>${clicks}</td>
                        <td>${ctr}%</td>
                        <td>₹${revenue.toFixed(2)}</td>
                    `;
                    
                    tbody.appendChild(tr);
                });
            }
        }
        
        // Filter Users
        function filterUsers() {
            const searchTerm = document.getElementById('user-search').value.toLowerCase();
            const statusFilter = document.getElementById('user-status-filter').value;
            
            const tbody = document.getElementById('users-table-body');
            if (!tbody) return;
            
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const name = row.cells[1].textContent.toLowerCase();
                const email = row.cells[2].textContent.toLowerCase();
                const status = row.cells[4].querySelector('.status-badge').textContent.toLowerCase();
                
                const matchesSearch = name.includes(searchTerm) || email.includes(searchTerm);
                const matchesStatus = !statusFilter || 
                    (statusFilter === 'active' && status === 'active') ||
                    (statusFilter === 'banned' && status === 'banned');
                
                row.style.display = matchesSearch && matchesStatus ? '' : 'none';
            }
        }
        
        // Filter Links
        function filterLinks() {
            const searchTerm = document.getElementById('link-search').value.toLowerCase();
            const categoryFilter = document.getElementById('link-category-filter').value;
            const statusFilter = document.getElementById('link-status-filter').value;
            
            const tbody = document.getElementById('links-table-body');
            if (!tbody) return;
            
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const title = row.cells[0].textContent.toLowerCase();
                const description = row.cells[1].textContent.toLowerCase();
                const category = row.cells[4].textContent;
                const status = row.cells[5].querySelector('.status-badge').textContent.toLowerCase();
                
                const matchesSearch = title.includes(searchTerm) || description.includes(searchTerm);
                const matchesCategory = !categoryFilter || category.includes(categoryFilter);
                const matchesStatus = !statusFilter || 
                    (statusFilter === 'active' && status === 'active') ||
                    (statusFilter === 'inactive' && status === 'inactive');
                
                row.style.display = matchesSearch && matchesCategory && matchesStatus ? '' : 'none';
            }
        }
        
        // Filter Ads
        function filterAds() {
            const searchTerm = document.getElementById('ad-search').value.toLowerCase();
            const placementFilter = document.getElementById('ad-placement-filter').value;
            const statusFilter = document.getElementById('ad-status-filter').value;
            
            const tbody = document.getElementById('ads-table-body');
            if (!tbody) return;
            
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const title = row.cells[0].textContent.toLowerCase();
                const placement = row.cells[2].textContent.toLowerCase();
                const status = row.cells[3].querySelector('.status-badge').textContent.toLowerCase();
                
                const matchesSearch = title.includes(searchTerm);
                const matchesPlacement = !placementFilter || placement.includes(placementFilter);
                const matchesStatus = !statusFilter || 
                    (statusFilter === 'active' && status === 'active') ||
                    (statusFilter === 'inactive' && status === 'inactive');
                
                row.style.display = matchesSearch && matchesPlacement && matchesStatus ? '' : 'none';
            }
        }
        
        // Filter Feedback
        function filterFeedback() {
            const searchTerm = document.getElementById('feedback-search').value.toLowerCase();
            const typeFilter = document.getElementById('feedback-type-filter').value;
            
            const tbody = document.getElementById('feedback-table-body');
            if (!tbody) return;
            
            const rows = tbody.getElementsByTagName('tr');
            
            for (let row of rows) {
                const name = row.cells[0].textContent.toLowerCase();
                const email = row.cells[1].textContent.toLowerCase();
                const type = row.cells[2].textContent.toLowerCase();
                const subject = row.cells[3].textContent.toLowerCase();
                
                const matchesSearch = name.includes(searchTerm) || email.includes(searchTerm) || subject.includes(searchTerm);
                const matchesType = !typeFilter || type.includes(typeFilter);
                
                row.style.display = matchesSearch && matchesType ? '' : 'none';
            }
        }
        
        // Export Functions
        function exportDashboardData() {
            showToast('Dashboard data exported successfully!', 'success');
        }
        
        function exportUsersData() {
            showToast('Users data exported successfully!', 'success');
        }
        
        function exportLinksData() {
            showToast('Links data exported successfully!', 'success');
        }
        
        function exportAdsData() {
            showToast('Ads data exported successfully!', 'success');
        }
        
        function exportFeedbackData() {
            showToast('Feedback data exported successfully!', 'success');
        }
        
        function exportAnalyticsData() {
            showToast('Analytics report exported successfully!', 'success');
        }
        
        // Handle Add User
        function handleAddUser(e) {
            e.preventDefault();
            
            const name = document.getElementById('user-name').value;
            const email = document.getElementById('user-email').value;
            const phone = document.getElementById('user-phone').value;
            const password = document.getElementById('user-password').value;
            
            const userData = {
                name: name,
                email: email,
                phone: phone,
                password: password,
                createdAt: Date.now(),
                status: 'active'
            };
            
            if (usersRef) {
                usersRef.push(userData)
                    .then(() => {
                        addUserModal.classList.remove('active');
                        document.getElementById('add-user-form').reset();
                        showToast('User added successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to add user!', 'error');
                    });
            } else {
                // Demo mode
                const newKey = 'user' + (Object.keys(users).length + 1);
                users[newKey] = userData;
                updateUsersTable();
                updateDashboardStats();
                addUserModal.classList.remove('active');
                document.getElementById('add-user-form').reset();
                showToast('User added successfully! (Demo Mode)', 'success');
            }
        }
        
        // Handle Add Link
        function handleAddLink(e) {
            e.preventDefault();
            
            const title = document.getElementById('link-title').value;
            const description = document.getElementById('link-description').value;
            const url = document.getElementById('link-url').value;
            const logoUrl = document.getElementById('link-logo-url').value;
            const category = document.getElementById('link-category').value;
            
            const linkData = {
                title: title,
                description: description,
                url: url,
                logoUrl: logoUrl || '',
                category: category,
                active: true,
                timestamp: Date.now()
            };
            
            if (linksRef) {
                linksRef.push(linkData)
                    .then(() => {
                        addLinkModal.classList.remove('active');
                        document.getElementById('add-link-form').reset();
                        showToast('Link added successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to add link!', 'error');
                    });
            } else {
                // Demo mode
                const newKey = 'link' + (Object.keys(links).length + 1);
                links[newKey] = linkData;
                updateLinksTable();
                updateDashboardStats();
                addLinkModal.classList.remove('active');
                document.getElementById('add-link-form').reset();
                showToast('Link added successfully! (Demo Mode)', 'success');
            }
        }
        
        // Handle Edit Link
        function handleEditLink(e) {
            e.preventDefault();
            
            const linkId = document.getElementById('edit-link-id').value;
            const title = document.getElementById('edit-link-title').value;
            const description = document.getElementById('edit-link-description').value;
            const url = document.getElementById('edit-link-url').value;
            const logoUrl = document.getElementById('edit-link-logo-url').value;
            const category = document.getElementById('edit-link-category').value;
            const status = document.getElementById('edit-link-status').value;
            
            const linkData = {
                title: title,
                description: description,
                url: url,
                logoUrl: logoUrl || '',
                category: category,
                active: status === 'active',
                updatedAt: Date.now()
            };
            
            if (linksRef) {
                linksRef.child(linkId).update(linkData)
                    .then(() => {
                        editLinkModal.classList.remove('active');
                        showToast('Link updated successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to update link!', 'error');
                    });
            } else {
                // Demo mode
                if (links[linkId]) {
                    links[linkId] = { ...links[linkId], ...linkData };
                    updateLinksTable();
                    editLinkModal.classList.remove('active');
                    showToast('Link updated successfully! (Demo Mode)', 'success');
                }
            }
        }
        
        // Handle Add Ad
        function handleAddAd(e) {
            e.preventDefault();
            
            const title = document.getElementById('ad-title').value;
            const code = document.getElementById('ad-code').value;
            const placement = document.getElementById('ad-placement').value;
            
            const adData = {
                title: title,
                code: code,
                placement: placement,
                active: true,
                timestamp: Date.now()
            };
            
            if (adsRef) {
                adsRef.push(adData)
                    .then(() => {
                        addAdModal.classList.remove('active');
                        document.getElementById('add-ad-form').reset();
                        showToast('Ad added successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to add ad!', 'error');
                    });
            } else {
                // Demo mode
                const newKey = 'ad' + (Object.keys(ads).length + 1);
                ads[newKey] = adData;
                updateAdsTable();
                updateDashboardStats();
                addAdModal.classList.remove('active');
                document.getElementById('add-ad-form').reset();
                showToast('Ad added successfully! (Demo Mode)', 'success');
            }
        }
        
        // Handle Update Privacy Policy
        function handleUpdatePrivacy(e) {
            e.preventDefault();
            
            const content = document.getElementById('privacy-policy-content').value;
            
            if (contentRef) {
                contentRef.update({ privacy: content })
                    .then(() => {
                        showToast('Privacy Policy updated successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to update Privacy Policy!', 'error');
                    });
            } else {
                showToast('Privacy Policy updated successfully! (Demo Mode)', 'success');
            }
        }
        
        // Handle Update Terms & Conditions
        function handleUpdateTerms(e) {
            e.preventDefault();
            
            const content = document.getElementById('terms-content').value;
            
            if (contentRef) {
                contentRef.update({ terms: content })
                    .then(() => {
                        showToast('Terms & Conditions updated successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to update Terms & Conditions!', 'error');
                    });
            } else {
                showToast('Terms & Conditions updated successfully! (Demo Mode)', 'success');
            }
        }
        
        // Handle Update About Section
        function handleUpdateAbout(e) {
            e.preventDefault();
            
            const content = document.getElementById('about-content').value;
            
            if (contentRef) {
                contentRef.update({ about: content })
                    .then(() => {
                        showToast('About section updated successfully!', 'success');
                    })
                    .catch((error) => {
                        showToast('Failed to update About section!', 'error');
                    });
            } else {
                showToast('About section updated successfully! (Demo Mode)', 'success');
            }
        }
        
        // Edit User
        function editUser(userId) {
            const user = users[userId];
            if (user) {
                showToast(`Editing user: ${user.name || user.email}`, 'info');
                // In a real implementation, you would open an edit modal here
            }
        }
        
        // Toggle User Ban
        function toggleUserBan(userId) {
            const user = users[userId];
            if (user) {
                const newStatus = user.status === 'banned' ? 'active' : 'banned';
                
                if (usersRef) {
                    usersRef.child(userId).update({ status: newStatus })
                        .then(() => {
                            showToast(`User ${newStatus === 'banned' ? 'banned' : 'unbanned'} successfully!`, 'success');
                        })
                        .catch((error) => {
                            showToast('Failed to update user status!', 'error');
                        });
                } else {
                    // Demo mode
                    users[userId].status = newStatus;
                    updateUsersTable();
                    showToast(`User ${newStatus === 'banned' ? 'banned' : 'unbanned'} successfully! (Demo Mode)`, 'success');
                }
            }
        }
        
        // Edit Link
        function editLink(linkId) {
            const link = links[linkId];
            if (link) {
                document.getElementById('edit-link-id').value = linkId;
                document.getElementById('edit-link-title').value = link.title || '';
                document.getElementById('edit-link-description').value = link.description || '';
                document.getElementById('edit-link-url').value = link.url || '';
                document.getElementById('edit-link-logo-url').value = link.logoUrl || '';
                document.getElementById('edit-link-category').value = link.category || '';
                document.getElementById('edit-link-status').value = link.active === false ? 'inactive' : 'active';
                
                editLinkModal.classList.add('active');
            }
        }
        
        // Delete User
        function deleteUser(userId) {
            if (confirm('Are you sure you want to delete this user?')) {
                if (usersRef) {
                    usersRef.child(userId).remove()
                        .then(() => {
                            showToast('User deleted successfully!', 'success');
                        })
                        .catch((error) => {
                            showToast('Failed to delete user!', 'error');
                        });
                } else {
                    // Demo mode
                    delete users[userId];
                    updateUsersTable();
                    updateDashboardStats();
                    showToast('User deleted successfully! (Demo Mode)', 'success');
                }
            }
        }
        
        // Delete Link
        function deleteLink(linkId) {
            if (confirm('Are you sure you want to delete this link?')) {
                if (linksRef) {
                    linksRef.child(linkId).remove()
                        .then(() => {
                            showToast('Link deleted successfully!', 'success');
                        })
                        .catch((error) => {
                            showToast('Failed to delete link!', 'error');
                        });
                } else {
                    // Demo mode
                    delete links[linkId];
                    updateLinksTable();
                    updateDashboardStats();
                    showToast('Link deleted successfully! (Demo Mode)', 'success');
                }
            }
        }
        
        // Delete Ad
        function deleteAd(adId) {
            if (confirm('Are you sure you want to delete this ad?')) {
                if (adsRef) {
                    adsRef.child(adId).remove()
                        .then(() => {
                            showToast('Ad deleted successfully!', 'success');
                        })
                        .catch((error) => {
                            showToast('Failed to delete ad!', 'error');
                        });
                } else {
                    // Demo mode
                    delete ads[adId];
                    updateAdsTable();
                    updateDashboardStats();
                    showToast('Ad deleted successfully! (Demo Mode)', 'success');
                }
            }
        }
        
        // Delete Feedback
        function deleteFeedback(feedbackId) {
            if (confirm('Are you sure you want to delete this feedback?')) {
                if (feedbackRef) {
                    feedbackRef.child(feedbackId).remove()
                        .then(() => {
                            showToast('Feedback deleted successfully!', 'success');
                        })
                        .catch((error) => {
                            showToast('Failed to delete feedback!', 'error');
                        });
                } else {
                    // Demo mode
                    delete feedback[feedbackId];
                    updateFeedbackTable();
                    showToast('Feedback deleted successfully! (Demo Mode)', 'success');
                }
            }
        }
        
        // Show Toast Notification
        function showToast(message, type = 'info') {
            toastText.textContent = message;
            
            if (type === 'success') {
                toastIcon.className = 'fas fa-check-circle';
            } else if (type === 'error') {
                toastIcon.className = 'fas fa-exclamation-circle';
            } else {
                toastIcon.className = 'fas fa-info-circle';
            }

            // Always black background
            toast.style.backgroundColor = '#000000';
            
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
    </script>
</body>
</html>
